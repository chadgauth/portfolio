---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  profileImage: ImageMetadata;
  altText: string;
  class?: string;
}

const { profileImage, altText, class: className } = Astro.props;
---

<div class:list={["relative group", className]}>
  <!-- Glow effect layers -->
  <div class="absolute -inset-0.5 bg-cyber-primary/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
  <div class="absolute -inset-0.5 bg-cyber-accent/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100"></div>
  
  <!-- Image container -->
  <div class="relative rounded-2xl overflow-hidden bg-gray-800/20">
    <div class="absolute inset-0 bg-gradient-to-br from-gray-700/20 to-gray-900/20"></div>
    <Image
      src={profileImage}
      alt={altText}
      class="relative z-10 w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.02]"
      format="webp"
      quality={90}
    />
    
    <!-- Subtle overlay -->
    <div class="absolute inset-0 z-20 pointer-events-none bg-gradient-to-t from-gray-900/10 to-transparent"></div>
    
    <!-- Border glow -->
    <div class="absolute inset-0 z-30 rounded-2xl border border-cyber-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
  </div>
</div>

<style>
  @keyframes scanline {
    from {
      transform: translateY(-100%);
    }
    to {
      transform: translateY(100%);
    }
  }

  .animate-scanline {
    animation: scanline 2.5s linear infinite;
  }
</style>
